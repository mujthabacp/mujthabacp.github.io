"use strict";(self.webpackChunkCalculator=self.webpackChunkCalculator||[]).push([[58],{1058:(g,u,l)=>{l.r(u),l.d(u,{TimerModule:()=>a});var d=l(6895),r=l(433),p=l(2386),t=l(8256);function h(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",23)(4,"h5",24),t._uU(5,"Time Up!"),t.qZA(),t.TgZ(6,"button",25),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onTimeUpModalClose())}),t.TgZ(7,"span",26),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",27)(10,"p"),t._uU(11),t.qZA()(),t.TgZ(12,"div",28)(13,"button",29),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onRestart())}),t._uU(14,"Restart"),t.qZA(),t.TgZ(15,"button",30),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onTimeUpModalClose())}),t._uU(16,"Ok"),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(11),t.AsE("",e.minutes,"m : ",e.seconds,"s")}}function f(i,n){1&i&&t._UZ(0,"div",31)}class m{constructor(){this.minutes=4,this.seconds=0,this.totalSeconds=60*this.minutes+this.seconds,this.timeLeft=this.totalSeconds,this.isRunning=!1,this.timeUpAlert=!1,this.audio=new Audio("/assets/xylophone.mp3"),this.endTime=0,this.tickInterval=null,this.timeoutId=null,this.count=0}ngOnDestroy(){this.clearTimers()}startTimer(){if(this.isRunning)return;this.prepareSound(),this.isRunning=!0,this.count++;const n=Date.now();this.endTime=n+1e3*this.timeLeft,this.tickInterval=setInterval(()=>this.updateTimeLeft(),500),this.timeoutId=setTimeout(()=>{this.timeLeft=0,this.isRunning=!1,this.timeUpAlert=!0,this.playSound(),this.notifyTimeUp(),this.clearTimers()},1e3*this.timeLeft)}updateTimeLeft(){const n=Date.now(),e=Math.max(0,Math.floor((this.endTime-n)/1e3));this.timeLeft=e}pauseTimer(){this.updateTimeLeft(),this.clearTimers(),this.isRunning=!1}resetTimer(){this.clearTimers(),this.timeLeft=this.totalSeconds,this.isRunning=!1}setTime(){this.totalSeconds=60*this.minutes+this.seconds,this.resetTimer()}clearTimers(){this.tickInterval&&(clearInterval(this.tickInterval),this.tickInterval=null),this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}get formattedTime(){return`${Math.floor(this.timeLeft/60).toString().padStart(2,"0")}:${(this.timeLeft%60).toString().padStart(2,"0")}`}prepareSound(){this.audio.load(),this.audio.play().then(()=>{this.audio.pause(),this.audio.currentTime=0}).catch(()=>{})}playSound(){this.audio.loop=!0,this.audio.play().catch(()=>{})}stopSound(){this.audio.pause(),this.audio.currentTime=0}onTimeUpModalClose(){this.timeUpAlert=!1,this.stopSound(),this.setTime()}onRestart(){this.onTimeUpModalClose(),this.startTimer()}addCount(){this.count++}subtractCount(){this.count--}notifyTimeUp(){"granted"===Notification.permission?new Notification("\u23f0 Time is up!"):Notification.requestPermission().then(n=>{"granted"===n&&new Notification("\u23f0 Time is up!")})}onVisibilityChange(){"visible"===document.visibilityState&&this.isRunning&&this.updateTimeLeft()}}m.\u0275fac=function(n){return new(n||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-timer"]],hostBindings:function(n,e){1&n&&t.NdJ("visibilitychange",function(){return e.onVisibilityChange()},!1,t.evT)},decls:32,vars:6,consts:[[1,"container","mt-5","text-center"],[1,"mb-4"],[1,"mb-3","d-flex","justify-content-center"],[1,"form-label","font-weight-bold"],["type","number","min","0",1,"form-control",3,"ngModel","ngModelChange"],[1,"mx-3"],[1,"form-label","font-weight-bold","ms-3"],["type","number","min","0","max","59",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","ms-3","set-time",3,"click"],[1,"display-timer","my-4","display-2"],[1,"btn-group"],[1,"btn","btn-success","t-control",3,"click"],[1,"btn","btn-warning","t-control","mx-3",3,"click"],[1,"btn","btn-danger","t-control",3,"click"],[1,"mt-3","d-flex","justify-content-center","count-container"],["aria-hidden","true",1,"fa","fa-minus-circle","ml-2",3,"click"],[1,"count-span"],["aria-hidden","true",1,"fa","fa-plus-circle",3,"click"],["class","modal d-block","tabindex","-1","role","dialog",4,"ngIf"],["class","modal-backdrop fade show",4,"ngIf"],["tabindex","-1","role","dialog",1,"modal","d-block"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-backdrop","fade","show"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Timer"),t.qZA(),t.TgZ(3,"div",2)(4,"div")(5,"label",3),t._uU(6,"Minutes"),t.qZA(),t.TgZ(7,"input",4),t.NdJ("ngModelChange",function(s){return e.minutes=s}),t.qZA()(),t.TgZ(8,"div",5)(9,"label",6),t._uU(10,"Seconds"),t.qZA(),t.TgZ(11,"input",7),t.NdJ("ngModelChange",function(s){return e.seconds=s}),t.qZA()(),t.TgZ(12,"div")(13,"button",8),t.NdJ("click",function(){return e.setTime()}),t._uU(14,"Set Time"),t.qZA()()(),t.TgZ(15,"div",9),t._uU(16),t.qZA(),t.TgZ(17,"div",10)(18,"button",11),t.NdJ("click",function(){return e.startTimer()}),t._uU(19,"Start"),t.qZA(),t.TgZ(20,"button",12),t.NdJ("click",function(){return e.pauseTimer()}),t._uU(21,"Pause"),t.qZA(),t.TgZ(22,"button",13),t.NdJ("click",function(){return e.resetTimer()}),t._uU(23,"Reset"),t.qZA()(),t.TgZ(24,"div",14),t._uU(25," Count : "),t.TgZ(26,"i",15),t.NdJ("click",function(){return e.subtractCount()}),t.qZA(),t.TgZ(27,"span",16),t._uU(28),t.qZA(),t.TgZ(29,"i",17),t.NdJ("click",function(){return e.addCount()}),t.qZA()()(),t.YNc(30,h,17,2,"div",18),t.YNc(31,f,1,0,"div",19)),2&n&&(t.xp6(7),t.Q6J("ngModel",e.minutes),t.xp6(4),t.Q6J("ngModel",e.seconds),t.xp6(5),t.Oqu(e.formattedTime),t.xp6(12),t.Oqu(e.count),t.xp6(2),t.Q6J("ngIf",e.timeUpAlert),t.xp6(1),t.Q6J("ngIf",e.timeUpAlert))},dependencies:[r.Fj,r.wV,r.JJ,r.qQ,r.Fd,r.On,d.O5],styles:["input[_ngcontent-%COMP%]{text-align:center;width:70px}.t-control[_ngcontent-%COMP%]{width:80px}.modal-footer[_ngcontent-%COMP%]{border-top:none}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80px}.display-timer[_ngcontent-%COMP%]{font-family:clockicons,sans-serif}.set-time[_ngcontent-%COMP%]{margin-top:32px}.fa-minus-circle[_ngcontent-%COMP%]{color:#dc3545;margin-top:5px}.fa-minus-circle[_ngcontent-%COMP%]:hover{color:#c82333}.fa-plus-circle[_ngcontent-%COMP%]{color:#28a745;margin-top:5px}.fa-plus-circle[_ngcontent-%COMP%]:hover{color:#218838}.count-container[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.count-span[_ngcontent-%COMP%]{width:20px;text-align:center;margin-left:10px;margin-right:10px}"]});const T=[{path:"",component:m}];class c{}c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[p.Bz.forChild(T),p.Bz]});class a{}a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[r.u5,d.ez,c]})}}]);