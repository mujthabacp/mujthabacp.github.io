"use strict";(self.webpackChunkCalculator=self.webpackChunkCalculator||[]).push([[58],{1058:(g,u,l)=>{l.r(u),l.d(u,{TimerModule:()=>a});var d=l(6895),r=l(433),p=l(2386),t=l(8256);function h(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"h5",21),t._uU(5,"Time Up!"),t.qZA(),t.TgZ(6,"button",22),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onTimeUpModalClose())}),t.TgZ(7,"span",23),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",24)(10,"p"),t._uU(11),t.qZA()(),t.TgZ(12,"div",25)(13,"button",26),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onRestart())}),t._uU(14,"Restart"),t.qZA(),t.TgZ(15,"button",27),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onTimeUpModalClose())}),t._uU(16,"Ok"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(11),t.AsE("",e.minutes,"m : ",e.seconds,"s")}}function T(n,i){1&n&&t._UZ(0,"div",28)}class c{constructor(){this.minutes=4,this.seconds=0,this.totalSeconds=60*this.minutes+this.seconds,this.timeLeft=this.totalSeconds,this.isRunning=!1,this.timeUpAlert=!1,this.audio=new Audio("/assets/xylophone.mp3"),this.endTime=0,this.tickInterval=null,this.timeoutId=null,this.count=0}ngOnDestroy(){this.clearTimers()}startTimer(){if(this.isRunning)return;this.prepareSound(),this.isRunning=!0,this.count++;const i=Date.now();this.endTime=i+1e3*this.timeLeft,this.tickInterval=setInterval(()=>this.updateTimeLeft(),500),this.timeoutId=setTimeout(()=>{this.timeLeft=0,this.isRunning=!1,this.timeUpAlert=!0,this.playSound(),this.notifyTimeUp(),this.clearTimers()},1e3*this.timeLeft)}updateTimeLeft(){const i=Date.now(),e=Math.max(0,Math.floor((this.endTime-i)/1e3));this.timeLeft=e}pauseTimer(){this.updateTimeLeft(),this.clearTimers(),this.isRunning=!1}resetTimer(){this.clearTimers(),this.timeLeft=this.totalSeconds,this.isRunning=!1}setTime(){this.totalSeconds=60*this.minutes+this.seconds,this.resetTimer()}clearTimers(){this.tickInterval&&(clearInterval(this.tickInterval),this.tickInterval=null),this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}get formattedTime(){return`${Math.floor(this.timeLeft/60).toString().padStart(2,"0")}:${(this.timeLeft%60).toString().padStart(2,"0")}`}prepareSound(){this.audio.load(),this.audio.play().then(()=>{this.audio.pause(),this.audio.currentTime=0}).catch(()=>{})}playSound(){this.audio.loop=!0,this.audio.play().catch(()=>{})}stopSound(){this.audio.pause(),this.audio.currentTime=0}onTimeUpModalClose(){this.timeUpAlert=!1,this.stopSound(),this.setTime()}onRestart(){this.onTimeUpModalClose(),this.startTimer()}notifyTimeUp(){"granted"===Notification.permission?new Notification("\u23f0 Time is up!"):Notification.requestPermission().then(i=>{"granted"===i&&new Notification("\u23f0 Time is up!")})}onVisibilityChange(){"visible"===document.visibilityState&&this.isRunning&&this.updateTimeLeft()}}c.\u0275fac=function(i){return new(i||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-timer"]],hostBindings:function(i,e){1&i&&t.NdJ("visibilitychange",function(){return e.onVisibilityChange()},!1,t.evT)},decls:28,vars:6,consts:[[1,"container","mt-5","text-center"],[1,"mb-4"],[1,"mb-3","d-flex","justify-content-center"],[1,"form-label","font-weight-bold"],["type","number","min","0",1,"form-control",3,"ngModel","ngModelChange"],[1,"mx-3"],[1,"form-label","font-weight-bold","ms-3"],["type","number","min","0","max","59",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","ms-3","set-time",3,"click"],[1,"display-timer","my-4","display-2"],[1,"btn-group"],[1,"btn","btn-success","t-control",3,"click"],[1,"btn","btn-warning","t-control","mx-3",3,"click"],[1,"btn","btn-danger","t-control",3,"click"],[1,"mt-3"],["class","modal d-block","tabindex","-1","role","dialog",4,"ngIf"],["class","modal-backdrop fade show",4,"ngIf"],["tabindex","-1","role","dialog",1,"modal","d-block"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-backdrop","fade","show"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Timer"),t.qZA(),t.TgZ(3,"div",2)(4,"div")(5,"label",3),t._uU(6,"Minutes"),t.qZA(),t.TgZ(7,"input",4),t.NdJ("ngModelChange",function(s){return e.minutes=s}),t.qZA()(),t.TgZ(8,"div",5)(9,"label",6),t._uU(10,"Seconds"),t.qZA(),t.TgZ(11,"input",7),t.NdJ("ngModelChange",function(s){return e.seconds=s}),t.qZA()(),t.TgZ(12,"div")(13,"button",8),t.NdJ("click",function(){return e.setTime()}),t._uU(14,"Set Time"),t.qZA()()(),t.TgZ(15,"div",9),t._uU(16),t.qZA(),t.TgZ(17,"div",10)(18,"button",11),t.NdJ("click",function(){return e.startTimer()}),t._uU(19,"Start"),t.qZA(),t.TgZ(20,"button",12),t.NdJ("click",function(){return e.pauseTimer()}),t._uU(21,"Pause"),t.qZA(),t.TgZ(22,"button",13),t.NdJ("click",function(){return e.resetTimer()}),t._uU(23,"Reset"),t.qZA()(),t.TgZ(24,"h4",14),t._uU(25),t.qZA()(),t.YNc(26,h,17,2,"div",15),t.YNc(27,T,1,0,"div",16)),2&i&&(t.xp6(7),t.Q6J("ngModel",e.minutes),t.xp6(4),t.Q6J("ngModel",e.seconds),t.xp6(5),t.Oqu(e.formattedTime),t.xp6(9),t.hij(" Count : ",e.count," "),t.xp6(1),t.Q6J("ngIf",e.timeUpAlert),t.xp6(1),t.Q6J("ngIf",e.timeUpAlert))},dependencies:[r.Fj,r.wV,r.JJ,r.qQ,r.Fd,r.On,d.O5],styles:["input[_ngcontent-%COMP%]{text-align:center;width:70px}.t-control[_ngcontent-%COMP%]{width:80px}.modal-footer[_ngcontent-%COMP%]{border-top:none}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80px}.display-timer[_ngcontent-%COMP%]{font-family:clockicons,sans-serif}.set-time[_ngcontent-%COMP%]{margin-top:32px}"]});const f=[{path:"",component:c}];class m{}m.\u0275fac=function(i){return new(i||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({imports:[p.Bz.forChild(f),p.Bz]});class a{}a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[r.u5,d.ez,m]})}}]);