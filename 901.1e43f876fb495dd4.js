"use strict";(self.webpackChunkCalculator=self.webpackChunkCalculator||[]).push([[901],{9901:(w,m,h)=>{h.r(m),h.d(m,{BmiModule:()=>u});var c=h(6895),r=h(433),a=h(2386);class d{constructor(){this.id=0,this.weight=0,this.height=0,this.date=new Date}}var t=h(8256),p=h(2532),Z=h(4422);function b(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"div"),t._uU(2),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.TgZ(7,"button",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.save())}),t._uU(8,"Save BMI"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" BMI : ",e.bmi," "),t.xp6(2),t.hij(" Status : ",e.status," "),t.xp6(2),t.AsE("Your normal weight is between ",e.weightloverRange," Kg and ",e.weightUpperRange," Kg")}}function f(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"th",14),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td",15),t.NdJ("click",function(){const v=t.CHM(e).$implicit,T=t.oxw();return t.KtG(T.delete(v.id))}),t._UZ(13,"img",16),t.qZA()()}if(2&n){const e=i.$implicit,s=i.index,o=t.oxw();t.xp6(2),t.Oqu(s+1),t.xp6(2),t.Oqu(t.xi3(5,5,e.date,"dd MMMM yyyy")),t.xp6(3),t.hij("",e.height," cm"),t.xp6(2),t.hij("",e.weight," Kg"),t.xp6(2),t.hij("",o.calculateBmi(e.height,e.weight)," Kg")}}class l{get isLoggedInUser(){return this.authService.IsLoggedInUser}constructor(i,e){this.authService=i,this.bmiService=e,this.bmi=0,this.isResultVisible=!1}ngOnInit(){this.isLoggedInUser&&this.getHistory()}onSubmit(){this.bmi=this.calculateBmi(this.height,this.weight),this.status=this.getStatus(this.bmi),this.setWeightRanges(),this.isResultVisible=!0}save(){let i=new d;i.height=this.height,i.weight=this.weight,this.bmiService.Add(i).subscribe(e=>{e.ok&&this.bmiHistory.push(e.body)})}getHistory(){this.bmiService.GetHistory().subscribe(i=>{i.ok&&(this.bmiHistory=i.body)})}delete(i){this.bmiService.Delete(i).subscribe(e=>{e.ok&&(this.bmiHistory=this.bmiHistory.filter(s=>s.id!==i))})}calculateBmi(i,e){return+(1e4*e/(i*i)).toFixed(2)}getStatus(i){return i<18.5?`${(this.height*this.height*(18.5-i)/1e4).toFixed(2)} Kg Under weight`:i>24.9?`${(this.height*this.height*(i-24.9)/1e4).toFixed(2)} Kg Over weight`:"Normal"}setWeightRanges(){this.weightloverRange=(18.5*this.height*this.height/1e4).toFixed(2),this.weightUpperRange=(24.9*this.height*this.height/1e4).toFixed(2)}}l.\u0275fac=function(i){return new(i||l)(t.Y36(p.e),t.Y36(Z.U))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-bmi"]],decls:34,vars:4,consts:[[1,"container","mb-4"],[1,"form-group"],["for","weight"],["type","number","step","0.01","placeholder","Enter weight in Kg","name","weight",1,"form-control","input-s",3,"ngModel","ngModelChange"],["for","pwd"],["type","number","step","0.01","placeholder","Enter height in cm","name","height",1,"form-control","input-s",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"],["class","result",4,"ngIf"],[1,"mt-4","mb-3"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"result"],["type","submit",1,"btn","btn-primary","mt-4",3,"click"],["scope","row"],[3,"click"],["src","./../../assets/trash.svg"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"BMI Calculator"),t.qZA(),t.TgZ(3,"form")(4,"div",1)(5,"label",2),t._uU(6,"Weight"),t.qZA(),t.TgZ(7,"input",3),t.NdJ("ngModelChange",function(o){return e.weight=o}),t.qZA()(),t.TgZ(8,"div",1)(9,"label",4),t._uU(10,"Height"),t.qZA(),t.TgZ(11,"input",5),t.NdJ("ngModelChange",function(o){return e.height=o}),t.qZA()(),t.TgZ(12,"button",6),t.NdJ("click",function(){return e.onSubmit()}),t._uU(13,"Calculate"),t.qZA()(),t.YNc(14,b,9,4,"div",7),t.TgZ(15,"h4",8),t._uU(16,"Your BMI History"),t.qZA(),t.TgZ(17,"table",9)(18,"thead")(19,"tr")(20,"th",10),t._uU(21,"#"),t.qZA(),t.TgZ(22,"th",10),t._uU(23,"Date"),t.qZA(),t.TgZ(24,"th",10),t._uU(25,"Height"),t.qZA(),t.TgZ(26,"th",10),t._uU(27,"Weight"),t.qZA(),t.TgZ(28,"th",10),t._uU(29,"BMI"),t.qZA(),t.TgZ(30,"th",10),t._uU(31,"#"),t.qZA()()(),t.TgZ(32,"tbody"),t.YNc(33,f,14,8,"tr",11),t.qZA()()()),2&i&&(t.xp6(7),t.Q6J("ngModel",e.weight),t.xp6(4),t.Q6J("ngModel",e.height),t.xp6(3),t.Q6J("ngIf",e.isResultVisible),t.xp6(19),t.Q6J("ngForOf",e.bmiHistory))},dependencies:[r._Y,r.Fj,r.wV,r.JJ,r.JL,r.On,r.F,c.sg,c.O5,c.uU],styles:[".result[_ngcontent-%COMP%]{margin-top:50px}"]});const _=[{path:"",component:l}];class g{}g.\u0275fac=function(i){return new(i||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[a.Bz.forChild(_),a.Bz]});class u{}u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[r.u5,c.ez,g]})}}]);