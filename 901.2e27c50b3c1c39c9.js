"use strict";(self.webpackChunkCalculator=self.webpackChunkCalculator||[]).push([[901],{9901:(T,a,r)=>{r.r(a),r.d(a,{BmiModule:()=>u});var c=r(6895),h=r(433),m=r(2386);class d{constructor(){this.id=0,this.weight=0,this.height=0,this.date=new Date}}var t=r(8256),p=r(2532),Z=r(4422);function _(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"div"),t._uU(2),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.TgZ(7,"button",10),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.save())}),t._uU(8,"Save BMI"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" BMI : ",e.bmi," "),t.xp6(2),t.hij(" Status : ",e.status," "),t.xp6(2),t.AsE("Your normal weight is between ",e.weightloverRange," Kg and ",e.weightUpperRange," Kg")}}function b(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"th",15),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td",16),t.NdJ("click",function(){const w=t.CHM(e).$implicit,y=t.oxw(2);return t.KtG(y.delete(w.id))}),t._UZ(13,"img",17),t.qZA()()}if(2&n){const e=i.$implicit,o=i.index,s=t.oxw(2);t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(t.xi3(5,5,e.date,"dd MMMM yyyy")),t.xp6(3),t.hij("",e.height," cm"),t.xp6(2),t.hij("",e.weight," Kg"),t.xp6(2),t.hij("",s.calculateBmi(e.height,e.weight)," Kg")}}function f(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"h4",11),t._uU(2,"Your BMI History"),t.qZA(),t.TgZ(3,"table",12)(4,"thead")(5,"tr")(6,"th",13),t._uU(7,"#"),t.qZA(),t.TgZ(8,"th",13),t._uU(9,"Date"),t.qZA(),t.TgZ(10,"th",13),t._uU(11,"Height"),t.qZA(),t.TgZ(12,"th",13),t._uU(13,"Weight"),t.qZA(),t.TgZ(14,"th",13),t._uU(15,"BMI"),t.qZA(),t.TgZ(16,"th",13),t._uU(17,"#"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,b,14,8,"tr",14),t.qZA()(),t.BQk()),2&n){const e=t.oxw();t.xp6(19),t.Q6J("ngForOf",e.bmiHistory)}}class l{get isLoggedInUser(){return this.authService.IsLoggedInUser}constructor(i,e,o){this.authService=i,this.bmiService=e,this.router=o,this.bmi=0,this.isResultVisible=!1}ngOnInit(){this.isLoggedInUser&&this.getHistory()}onSubmit(){this.bmi=this.calculateBmi(this.height,this.weight),this.status=this.getStatus(this.bmi),this.setWeightRanges(),this.isResultVisible=!0}save(){if(!this.isLoggedInUser){var i=`/login?returnUrl=${window.location.pathname}`;return void this.router.navigateByUrl(i)}let e=new d;e.height=this.height,e.weight=this.weight,this.bmiService.Add(e).subscribe(o=>{o&&o.ok&&this.bmiHistory.push(o.body)})}getHistory(){this.bmiService.GetHistory().subscribe(i=>{i&&i.ok&&(this.bmiHistory=i.body)})}delete(i){this.bmiService.Delete(i).subscribe(e=>{e&&e.ok&&(this.bmiHistory=this.bmiHistory.filter(o=>o.id!==i))})}calculateBmi(i,e){return+(1e4*e/(i*i)).toFixed(2)}getStatus(i){return i<18.5?`${(this.height*this.height*(18.5-i)/1e4).toFixed(2)} Kg Under weight`:i>24.9?`${(this.height*this.height*(i-24.9)/1e4).toFixed(2)} Kg Over weight`:"Normal"}setWeightRanges(){this.weightloverRange=(18.5*this.height*this.height/1e4).toFixed(2),this.weightUpperRange=(24.9*this.height*this.height/1e4).toFixed(2)}}l.\u0275fac=function(i){return new(i||l)(t.Y36(p.e),t.Y36(Z.U),t.Y36(m.F0))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-bmi"]],decls:16,vars:4,consts:[[1,"container","mb-4"],[1,"form-group"],["for","weight"],["type","number","step","0.01","placeholder","Enter weight in Kg","name","weight",1,"form-control","input-s",3,"ngModel","ngModelChange"],["for","pwd"],["type","number","step","0.01","placeholder","Enter height in cm","name","height",1,"form-control","input-s",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"],["class","result",4,"ngIf"],[4,"ngIf"],[1,"result"],["type","submit",1,"btn","btn-primary","mt-4",3,"click"],[1,"mt-4","mb-3"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[3,"click"],["src","./../../assets/trash.svg"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"BMI Calculator"),t.qZA(),t.TgZ(3,"form")(4,"div",1)(5,"label",2),t._uU(6,"Weight"),t.qZA(),t.TgZ(7,"input",3),t.NdJ("ngModelChange",function(s){return e.weight=s}),t.qZA()(),t.TgZ(8,"div",1)(9,"label",4),t._uU(10,"Height"),t.qZA(),t.TgZ(11,"input",5),t.NdJ("ngModelChange",function(s){return e.height=s}),t.qZA()(),t.TgZ(12,"button",6),t.NdJ("click",function(){return e.onSubmit()}),t._uU(13,"Calculate"),t.qZA()(),t.YNc(14,_,9,4,"div",7),t.YNc(15,f,20,1,"ng-container",8),t.qZA()),2&i&&(t.xp6(7),t.Q6J("ngModel",e.weight),t.xp6(4),t.Q6J("ngModel",e.height),t.xp6(3),t.Q6J("ngIf",e.isResultVisible),t.xp6(1),t.Q6J("ngIf",e.bmiHistory&&e.bmiHistory.length>0))},dependencies:[h._Y,h.Fj,h.wV,h.JJ,h.JL,h.On,h.F,c.sg,c.O5,c.uU],styles:[".result[_ngcontent-%COMP%]{margin-top:50px}"]});const v=[{path:"",component:l}];class g{}g.\u0275fac=function(i){return new(i||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[m.Bz.forChild(v),m.Bz]});class u{}u.\u0275fac=function(i){return new(i||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[h.u5,c.ez,g]})}}]);